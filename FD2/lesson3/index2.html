<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pow and calculate</title>
</head>
<body>
    <script>
     
     function curry(f) { // curry(f) выполняет каррирование
         return function(a) {
         return function(arg) {
         return function(b){
           return f(a,arg, b);
          
         };
         };
          };
          
        }
        function toCount (a, arg, b){
            while( b> 0){
                if( arg == '+'){
                
                return console.log( `${a}${arg}${b} = ${a+b}`);
                
                }
                 else if ( arg == '-'){
                    return console.log( ` ${a}${arg}${b} = ${a-b}`);
                }
                else if ( arg == '*'){
                    return console.log(`${a}${arg}${b} = ${a*b}`);
                }
                else if ( arg == '/'){
                    return console.log(`${a}${arg}${b} = ${a/b}`);
                }
            } 
            if ( b == 0){
                return console.log(`${a}${arg}${b} = Ошибка (на ноль делить нельзя)`);
            }
            
        }
        let calculate = curry(toCount);
       

      
        // console.log('---------------------')


        function curry2(f) { // curry(f) выполняет каррирование
         return function(a) {
          return function(b) {
          return f(a, b);
        };
        };
        }

        function exponentiation( a, b){
            if( b == 0){
                return console.log( `Результат:\n${a}^${b} = 1`);
            } 
            let minus;
            if (b < 0) minus = true;
 
            let mul = 1;
            let p = minus ? -b : b;
            for (let i = 1; i <= p; i++) {
                mul *= a;
            }
            return console.log(`Результат:\n${a}^${b} = ${minus ? 1 / mul : mul}`);
        }
        
        
        let pow = curry2(exponentiation);
        
    
        
        pow(-2)(3);
        calculate(1)('+')(2);
        pow(4)(2);
        calculate(3)('*')(7);
        pow(16)(0);
        calculate(15)('/')(3);
        pow(2)(-3);
        calculate(2)('/')(0);

    </script>
</body>
</html>