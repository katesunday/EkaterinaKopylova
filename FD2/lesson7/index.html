<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>editable-list</title>
</head>
<body>
    <style>
        .button{
            background-color: cyan;
            width: 70px;
            border-radius: 5px;
            margin: 5px;
        }
    </style>
    <div id="list">

    </div>
    
    <script>
         var elements = ['Первый элемент', 'Второй элемент', 'Третий элемент', 'Четвертый элемент'];
         var listItems = document.getElementById("list").getElementsByTagName("li");
         
        
    function createList(){
        var ol = document.createElement('ol');
        for( var i=0; i < elements.length; i++){
            var li = document.createElement('li');
            li.prepend(document.createTextNode(elements[i]));
            ol.prepend(li);
        }
        

     let inputA = document.createElement('input');
     list.append(inputA);  
     let btnAdd = document.createElement('button');
     btnAdd.className = 'button';
     btnAdd.innerHTML = 'Add';
     list.append(btnAdd);
     btnAdd.onclick = function(){
        elements.push(inputA.value);
        var li = document.createElement('li');
        if( inputA.value != '') {
            li.appendChild(document.createTextNode(inputA.value));
         ol.appendChild(li);
        }
       
     }
     let btnRemove = document.createElement('button');
     btnRemove.innerHTML = 'Remove';
     btnRemove.className = 'button';
     list.append(btnRemove);
     btnRemove.onclick = function(){
        elements.pop();
        if(listItems.length === 1) btnRemove.setAttribute('disabled', true); 
        var last = listItems[listItems.length - 1];
      last.parentNode.removeChild(last);
    }
    return ol;
     }

     list.prepend( createList(elements));

     var allELements = document.querySelector('ol');
     allELements.addEventListener('click',function(event){
        let target = event.target;
        if(target.tagName !== 'LI'){
            return;
        }
        changeValueLi(target);
         });
    function changeValueLi(li){
        let valueLi = li.innerHTML;
        li.innerHTML = `<input value="${valueLi}" id='newInput'>`;
        console.log(valueLi)
        let newInput = document.getElementById('newInput');
        newInput.focus();
        newInput.addEventListener('blur',NewLi);
        function NewLi(){
            li.innerHTML =  newInput.value;
            if (newInput.value === ""){
                li.innerHTML = valueLi;
            }
           
        }
    }

  
    

    </script>

</body>
</html>